<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		<title>Visual Novel Engine for HTML5 Canvas</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
		<meta name="mobileoptimized" content="0" />
	
		<link rel="stylesheet" href="css/all.css" media="all" />
		<link rel="stylesheet" href="css/handheld.css" media="only screen and (max-width: 660px)" />
		<link rel="stylesheet" href="css/handheld.css" media="handheld" />
		<link rel="stylesheet" href="css/screen.css" media="screen and (min-width: 661px)" />
	    <link rel="shortcut icon" href="favicon.ico" />    

		<script src="javascript/all.js"></script>
		<!--[if lt IE 9]>
			<script src="javascript/html5.js"></script>
		<![endif]-->
	</head>
	<body>

	<div class="index">
		<div class="menu">
			<div class="indexLinks">
				<a href="toc.html">Index</a>
				<a href="files.html">Files</a>
			</div>
			<h2 class="heading1">Navigation</h2>
			<input type="text" name="classFilter" class="classFilter" id="ClassFilter" placeholder="Filter"></input>
			<nav>
				<ul class="classList" id="ClassList">
					INTRODUCTION<br/>
					<li><a href="index.html">Intro</a></li>
					<li><a href="start.html">Getting started</a></li>
					<li><a href="config.html">Config file</a></li>
					<li><a href="plugins.html">Plug-ins</a></li>
					<li><a href="mods.html">Mod pack<span style="color:#C00000"> New!</span></a></li>
					<li><a href="demo.html">Demo</a></li>
					ELEMENTS<br/>
					<li><a href="actor.html">actor</a></li>
					<li><a href="atmosphere.html">atmosphere</a></li>
					<li><a href="audio.html">audio</a></li>
					<li><a href="box.html">box</a></li>
					<li><a href="menu.html">menu</a></li>
					<li><a href="overlay.html">overlay</a></li>
					<li><a href="scene.html">scene</a></li>
					<li><a href="text.html">text</a></li>
					<li><a href="video.html">video</a></li>
					FLOW CONTROL<br/>
					<li><a href="jump.html">jump</a></li>
					<li><a href="label.html">label</a></li>
					<li><a href="wait.html">wait</a></li>
					FORMS<br/>
					<li><a href="cform.html">cform</a></li>
					<li><a href="form.html">form</a></li>
					<li><a href="button.html">button</a></li>
					<li><a href="checkbox.html">checkbox</a></li>
					<li><a href="fieldset.html">fieldset</a></li>
					<li><a href="input.html">input</a></li>
					<li><a href="marquee.html">marquee</a></li>
					<li><a href="picture.html">picture</a></li>
					<li><a href="radio.html">radio</a></li>
					<li><a href="select.html">select</a></li>
					<li><a href="slider.html">slider</a></li>
					<li><a href="spinbox.html">spinbox</a></li>
					<li><a href="submit.html">submit</a></li>
					<li><a href="textarea.html">textarea</a></li>
					<li><a href="timer.html">timer</a></li>
					NAVIGATION<br/>
					<li><a href="automap.html">automap</a></li>					
					<li><a href="map.html">map</a></li>
					<li><a href="tile.html">tile</a></li>
					MISC<br/>
					<li><a href="animation.html">animation</a></li>
					<li><a href="checkpoint.html">checkpoint</a></li>
					<li><a href="get.html">get</a></li>
					<li><a href="set.html">set</a></li>
					<li><a href="macro.html">macro</a></li>
					<li><a href="preload.html">preload</a></li>
					<li><a href="screen.html">screen</a></li>
					DEBUGGING<br/>
					<li><a href="message.html">message</a></li>
				</ul>
			</nav>
		</div>
		<div class="fineprint" style="clear:both">
			<footer>
			<!--Documentation generator: <a href="http://code.google.com/p/jsdoc-toolkit/" target="_blank">JsDoc Toolkit</a> 2.4.0<br />-->
			Template: <a href="http://www.thebrightlines.com/2010/05/06/new-template-for-jsdoctoolkit-codeview/" target="_blank">Codeview</a> 
			for <a href="http://code.google.com/p/jsdoc-toolkit/" target="_blank">JsDoc Toolkit</a><br />		
			</footer>
		</div>
	</div>
	<div class="index indexStatic"></div>
	<div class="content">
		<div class="innerContent">
		<article>
			<header>
				<h1 class="classTitle"><span>map</span></h1>	
				<div class="intro">
					<p class="description summary">
					Defines the access table for a navigation map.
					<ul class="summary">
						<li>Should be used with a cform displaying an image map.</li>
						<li>The access table makes it possible to restrict access to any location in a map,
							unless defined in the access table. This makes it possible, for example, to
							prevent players from going directly to a house across a river without going
							first to the bridge.</li>
						<li>Uses a reserved user variable named "_nav_loc" to set the current location.</li>
					</ul>					
					</p>
				</div>
			</header>
			<section>
				<div class="props">
					<table class="summaryTable" cellspacing="0" summary="message keyword summary">
						<caption class="sectionTitle">Syntax</caption>
						<tbody>
							<tr>
								<td class="attributes"><div class="fixedFont"><b>map</b>, {param}</div></td>
								<td class="nameDescription"><div class="description">Define a map access table.<br/>
								Parameters are given as {param:value, param:value, ...}</div></td>
							</tr>
						</tbody>
					</table>
				</div>
			</section>
			<section>
				<nav>
					<div class="props">
						<table class="summaryTable" cellspacing="0" summary="scene parameters summary">
						<caption class="sectionTitle">Parameter Summary</caption>
							<thead>
								<tr>
									<th scope="col">Attributes</th>
									<th scope="col">Parameter Name and Description</th>
								</tr>
							</thead>
							<tbody>		
								<tr>
									<td class="attributes">&nbsp;</td>
									<td class="nameDescription">
										<div class="fixedFont"><b>id</b>:"map_id"</div>
										<div class="description">The id of the cform map.</div>
									</td>
								</tr>
								<tr>
									<td class="attributes">&nbsp;</td>
									<td class="nameDescription">
										<div class="fixedFont"><b>location_name</b>:[array_of_locations]</div>
										<div class="description">location_name is the name of the map location
										defined in the cform map.<br/>
										array_of_locations is an array of map locations that can be accessed
										when in location_name.</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</nav>
			</section>
			<section>
				<div class="details props">
					<div class="innerProps">
						<h2 class="sectionTitle">Example</h2>
						<div class="description">
							First, declare a cform map. Use picture element to show the image, and buttons to 
							provide clickable map locations.
						</div>
						<pre class="code">  
chapter = [

	...
	cform, [ "nav_map", true,
		picture, {name:"nav_image", x:60, y:20, frames:["map.jpg"]},
		button, {name:"location1", x:105, y:195, base:"marker.jpg", link:[jump, "location1"], showText:false},
		button, {name:"location2", x:365, y:180, base:"marker.jpg", link:[jump, "location2"], showText:false},
		button, {name:"location3", x:525, y:140, base:"marker.jpg", link:[jump, "location3"], showText:false},
	],
	...
	label, "location1",
	...
	label, "location2",
	...
	label, "location3",
	...
];
						</pre>
						<div class="description">
							This creates a map named "nav_map", and three buttons for the locations. Clicking on
							the button jumps to the specified label.<br/><br/>
							If you need the player to go thru location2 first when going from location1 to location3,
							then define a map access table before the cform map.
						</div>
						<pre class="code">  
chapter = [

	...
	map, { id:"nav_map",
		location1:["location2"],
		location2:["location1","location3"],
		location3:["location2"]
	}
	set, {_nav_loc:"location1"},
	...
];
						</pre>
						<div class="description">
							Note that the id should be the same as the cform id, and the location_names are the same as the 
							button names in the cform map.<br/>
							This means that when in location1, you can only go to location2 (and of course location1 itself).
							When in location2, you can go to both location1 and location3. When in location3, you can
							only go to location2.<br/>
							Also, the initial location is set thru "_nav_loc".<br/><br/>
							Finally, after selecting and jumping to a location, set the current location thru "_nav_loc" variable.
						</div>
						<pre class="code">  
chapter = [

	...
	label, "location1",
	set, {_nav_loc:"location1"},
	...
	label, "location2",
	set, {_nav_loc:"location2"},
	...
	label, "location3",
	set, {_nav_loc:"location3"},
	...
];
						</pre>
						<div class="description">
							For a complete example, see Navigation Demo.
						</div>
					</div>
				</div>
			</section>			
		</article>
		</div>
	</div>
	<script type="text/javascript">
		wbos.CssTools.MediaQueryFallBack.LoadCss('css/screen.css', 'css/handheld.css', 660)
		codeview.classFilter.Init()
	</script>
	
	</body>
</html>

